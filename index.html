
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–æ–∑—ã–≥—Ä—ã—à–∏ - –ú–∏–Ω–∏ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="loading-screen" class="loading-screen">
            <div class="loader"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>

        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <div id="main-page" class="page hidden">
            <header class="app-header">
                <div class="header-content">
                    <h1>üéâ –†–æ–∑—ã–≥—Ä—ã—à–∏</h1>
                    <div class="header-actions">
                        <div class="balance-display">
                            <span class="balance-icon">üé´</span>
                            <span id="user-balance">0</span>
                        </div>
                        <button id="theme-toggle" class="theme-toggle">üåô</button>
                        <button id="settings-btn" class="settings-btn">‚öôÔ∏è</button>
                    </div>
                </div>
            </header>

            <main class="main-content">
                <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–∞–±—ã -->
                <div class="tab-navigation">
                    <button class="tab-btn active" data-tab="giveaways">üéÅ –†–æ–∑—ã–≥—Ä—ã—à–∏</button>
                    <button class="tab-btn" data-tab="profile">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
                    <button class="tab-btn" data-tab="earn">üí∞ –ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å</button>
                    <button class="tab-btn admin-only hidden" data-tab="admin">‚öôÔ∏è –ê–¥–º–∏–Ω</button>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π -->
                <div id="giveaways-tab" class="tab-content active">
                    <div class="section-header">
                        <h2>–ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏</h2>
                        <button id="refresh-giveaways" class="refresh-btn">üîÑ</button>
                    </div>
                    <div id="giveaways-list" class="giveaways-list">
                        <!-- –†–æ–∑—ã–≥—Ä—ã—à–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
                <div id="profile-tab" class="tab-content">
                    <div class="profile-section">
                        <div class="profile-header">
                            <div class="profile-avatar">
                                <span id="profile-initials">üë§</span>
                            </div>
                            <div class="profile-info">
                                <h3 id="profile-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h3>
                                <p id="profile-id">ID: -</p>
                            </div>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon">üé´</div>
                                <div class="stat-info">
                                    <span class="stat-value" id="total-tickets">0</span>
                                    <span class="stat-label">–í—Å–µ–≥–æ –±–∏–ª–µ—Ç–æ–≤</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üéØ</div>
                                <div class="stat-info">
                                    <span class="stat-value" id="active-participations">0</span>
                                    <span class="stat-label">–£—á–∞—Å—Ç–∏–π</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">üë•</div>
                                <div class="stat-info">
                                    <span class="stat-value" id="referrals-count">0</span>
                                    <span class="stat-label">–†–µ—Ñ–µ—Ä–∞–ª–æ–≤</span>
                                </div>
                            </div>
                        </div>

                        <div class="profile-actions">
                            <button class="profile-btn" onclick="showMyTickets()">
                                <span class="btn-icon">üéüÔ∏è</span>
                                –ú–æ–∏ –±–∏–ª–µ—Ç—ã
                            </button>
                            <button class="profile-btn" onclick="showPastGiveaways()">
                                <span class="btn-icon">üìú</span>
                                –ò—Å—Ç–æ—Ä–∏—è —É—á–∞—Å—Ç–∏–π
                            </button>
                            <button class="profile-btn" onclick="showReferrals()">
                                <span class="btn-icon">üë•</span>
                                –ú–æ–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã
                            </button>
                        </div>

                        <div id="expiring-tickets-info" class="expiring-info hidden">
                            <div class="warning-card">
                                <div class="warning-icon">‚è∞</div>
                                <div class="warning-text">
                                    <h4>–°–≥–æ—Ä–∞–µ–º—ã–µ –±–∏–ª–µ—Ç—ã</h4>
                                    <p id="expiring-details">-</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –í–∫–ª–∞–¥–∫–∞ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ -->
                <div id="earn-tab" class="tab-content">
                    <div class="earn-section">
                        <h2>–°–ø–æ—Å–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –±–∏–ª–µ—Ç–æ–≤</h2>
                        
                        <div class="earn-methods">
                            <div class="earn-card">
                                <div class="earn-icon">üì∏</div>
                                <div class="earn-content">
                                    <h3>–°–¥–µ–ª–∞–π —Å—Ç–æ—Ä–∏—Å</h3>
                                    <p>–ü–æ–ª—É—á–∏ 50 –±–∏–ª–µ—Ç–æ–≤ –∑–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Å—Ç–æ—Ä–∏—Å –æ –Ω–∞—à–µ–º –±–æ—Ç–µ</p>
                                    <button class="earn-btn" onclick="makeStory()">+50 –±–∏–ª–µ—Ç–æ–≤</button>
                                </div>
                            </div>

                            <div class="earn-card" id="subscription-card">
                                <div class="earn-icon">üì¢</div>
                                <div class="earn-content">
                                    <h3>–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª—ã</h3>
                                    <p>–ü–æ–ª—É—á–∏ 10 –±–∏–ª–µ—Ç–æ–≤ –∑–∞ –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –≤—Å–µ –Ω–∞—à–∏ –∫–∞–Ω–∞–ª—ã (—Å—Ä–æ–∫ 15 –¥–Ω–µ–π)</p>
                                    <button class="earn-btn" id="subscription-btn" onclick="checkSubscriptions()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏</button>
                                </div>
                            </div>

                            <div class="earn-card">
                                <div class="earn-icon">üë•</div>
                                <div class="earn-content">
                                    <h3>–ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–∑–µ–π</h3>
                                    <p>–ü–æ–ª—É—á–∏ 1 –±–∏–ª–µ—Ç –∑–∞ –∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥—Ä—É–≥–∞ (10+ –±–∏–ª–µ—Ç–æ–≤)</p>
                                    <div class="referral-stats">
                                        <span>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ: <span id="referral-count">0</span></span>
                                        <span>–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: <span id="referral-earned">0</span></span>
                                    </div>
                                    <button class="earn-btn" onclick="shareReferralLink()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å -->
                <div id="admin-tab" class="tab-content admin-only">
                    <div class="admin-section">
                        <h2>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
                        
                        <div class="admin-navigation">
                            <button class="admin-nav-btn active" data-section="overview">üìä –û–±–∑–æ—Ä</button>
                            <button class="admin-nav-btn" data-section="giveaways">üéÅ –†–æ–∑—ã–≥—Ä—ã—à–∏</button>
                            <button class="admin-nav-btn" data-section="users">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
                            <button class="admin-nav-btn" data-section="statistics">üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                        </div>

                        <!-- –û–±–∑–æ—Ä -->
                        <div id="admin-overview" class="admin-content active">
                            <div class="stats-grid">
                                <div class="admin-stat-card">
                                    <h3 id="total-users">0</h3>
                                    <p>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
                                </div>
                                <div class="admin-stat-card">
                                    <h3 id="active-giveaways-count">0</h3>
                                    <p>–ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏</p>
                                </div>
                                <div class="admin-stat-card">
                                    <h3 id="total-tickets-issued">0</h3>
                                    <p>–í—Å–µ–≥–æ –±–∏–ª–µ—Ç–æ–≤</p>
                                </div>
                                <div class="admin-stat-card">
                                    <h3 id="completed-giveaways-count">0</h3>
                                    <p>–ó–∞–≤–µ—Ä—à–µ–Ω–æ</p>
                                </div>
                            </div>
                        </div>

                        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∞–º–∏ -->
                        <div id="admin-giveaways" class="admin-content">
                            <div class="section-header">
                                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∞–º–∏</h3>
                                <button class="primary-btn" onclick="showCreateGiveaway()">+ –°–æ–∑–¥–∞—Ç—å —Ä–æ–∑—ã–≥—Ä—ã—à</button>
                            </div>
                            <div id="admin-giveaways-list" class="admin-giveaways-list">
                                <!-- –†–æ–∑—ã–≥—Ä—ã—à–∏ –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
                            </div>
                        </div>

                        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
                        <div id="admin-users" class="admin-content">
                            <div class="section-header">
                                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h3>
                                <input type="text" id="user-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ ID –∏–ª–∏ –∏–º–µ–Ω–∏..." class="search-input">
                            </div>
                            <div class="user-actions">
                                <button class="admin-btn" onclick="showAddTickets()">üí∞ –ù–∞—á–∏—Å–ª–∏—Ç—å –±–∏–ª–µ—Ç—ã</button>
                                <button class="admin-btn" onclick="showRemoveTickets()">üí∏ –°–ø–∏—Å–∞—Ç—å –±–∏–ª–µ—Ç—ã</button>
                                <button class="admin-btn danger" onclick="showBanUser()">üö´ –ó–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
                                <button class="admin-btn success" onclick="showUnbanUser()">‚úÖ –†–∞–∑–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
                            </div>
                            <div id="user-management-result" class="result-area"></div>
                        </div>

                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div id="admin-statistics" class="admin-content">
                            <h3>–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                            <div id="detailed-stats" class="detailed-stats">
                                <!-- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
        <div id="modal-overlay" class="modal-overlay hidden">
            <div class="modal" id="main-modal">
                <div class="modal-header">
                    <h3 id="modal-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h3>
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                </div>
                <div class="modal-content" id="modal-content">
                    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
                </div>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div id="notifications-container" class="notifications-container"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
